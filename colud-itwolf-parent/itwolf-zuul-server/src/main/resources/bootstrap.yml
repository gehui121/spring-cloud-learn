server:
  port: 50000
spring:
  application:
    name: zuul-server
  cloud:
    config:
    #读取的版本环境
      profile: dev
      discovery:
      #读取config-server环境
        service-id: config-server
        #开启读取权限
        enabled: true
eureka:
  instance:
  ##使用ip注册
    prefer-ip-address: true
    ##自定义实例编号
    instance-id: ${spring.application.name}:${server.port}:@project.version@
    ##客户端向注册中心发送心跳检测时间间隔
    lease-renewal-interval-in-seconds: 30
    ##客户端失效时间
    lease-expiration-duration-in-seconds: 90
  client:
    service-url:
      ##注册地址api为eureka-server账号，node为密码
      defaultZone: http://api:node@server1:10001/eureka/,http://api:node@server2:10002/eureka/
#请求处理的超时时间
ribbon:
  ReadTimeout: 5000
#请求连接的超时时间
  ConnectTimeout: 5000
  #同一个服务重试的次数（除去首次）
  MaxAutoRetries: 2
  #切换相同服务数量
  MaxAutoRetriesNextServer: 2
#开启actuator所有的检测端点，实时刷新配置文件
management:
  endpoints:
    web:
      exposure:
        include: "*"
zuul:
#开启失败后的重试机制，配合ribbon使用
  retryable: true
  #认证成功后重定向zuul的host，而不是认证服务器的host
  add-host-header: true
  routes:
    order-service:
      path: /api-order/**
      serviceId: order-service
    member-service:
      path: /api-member/**
      serviceId: member-service
    pay-service:
      path: /api-pay/**
      serviceId: appConfig



